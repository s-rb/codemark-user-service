# codemark-user-service
## Backend for user management service

Тестовое задание Codemark.
- Веб-сервис для управления пользователями их ролями.
- Использованы Java11, SpringBoot (web, data), Liquibase, H2, JUnit, Mockito, Lombok
- Настройки в application.yaml.
- Код покрыт тестами Unit и интеграционными.
- Для удобства ручного тестирования с помощью Postman в папке data выгружена json коллекция c запросами.
- Все эндпоинты и запросы в соответствии с заданием.
- На старте Liquibase создает несколько ролей и одного пользователя для тестовых целей (в задании отсутствовало требование создания новый ролей, соответственно контроллера и службы - нет).

### Исходное задание:

`Необходимо разработать backend для Restful веб-приложения на Spring Framework / Springboot. Основная задача бекенда - управление пользователями и их ролями. Описание модели данных: ` 

`У пользователя может быть несколько ролей, одна роль может быть у нескольких пользователей. Например, Вася - Админ и Оператор, Петя - Оператор и Статистик. 
Атрибуты пользователя - Имя, Логин, Пароль (шифровать пароль в рамках тестового задания не требуется, это просто строка). 
Единственный атрибут роли - Имя. `
 

`Необходимо: `

`Разработать сервисы работы с данными. Сервисы должны работать с форматом JSON. Сделать GET, PUT, POST, DELETE REST сервисы, которые будут:
/list Получать список пользователей из БД (без ролей)
/get Получать конкретного пользователя (с его ролями) из БД
/delete Удалять пользователя в БД
/add Добавлять нового пользователя в БД. В json запроса могут передаваться роли, например {name: "Вася", login: "vasa", password: "123123", roles: {1, 3, 5}}. В этом случае система должна сохранить привязку нового пользователя к ролям.
/edit Редактировать существующего пользователя в БД. В json запроса могут передаваться роли, например {name: "Вася", login: "vasa", password: "123123", roles: {1, 3, 5}} . В этом случае система должна обновить список ролей пользователя в БД - новые привязки добавить, неактуальные привязки  удалить.`
 

`На бекенде для методов /add и /edit должна производится валидация пришедших значений. Поля name, login, password - обязательные для заполнения, password содержит букву в заглавном регистре и цифру. 
Если все проверки пройдены успешно, должен вернуться ответ {success: true}
Если случилась ошибка валидации, то должен прийти ответ {success: false, errors: {массив ошибок}}`
 

`Для функционала добавления, редактирования и удаления пользователя должны быть написаны unit тесты. `
 

`Решение должно быть реализовано на языке Java,  платформе Spring Framework / Springboot, использовать Spring Data или Hibernate в качестве ORM, и быть выложено в git (bitbucket или github). Базу данных для задачи можно выбрать любую и создать любым способом, на ваше усмотрение - автосоздание таблиц hibernate, скрипт создания create_schema.sql, допускается использовать in-memory БД. `
